# Application
ENVIRONMENT=development
DEBUG=true
API_V1_STR=/api/v1
PROJECT_NAME="Voice AI Agent"

# Database
DATABASE_URL=postgresql://voiceai:voiceai_dev@localhost:5432/voiceai_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# Redis
REDIS_URL=redis://localhost:6379
REDIS_MAX_CONNECTIONS=50

# Security
SECRET_KEY=your-secret-key-here-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# API Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=1

# LLM Configuration
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=llama2:7b-chat
OLLAMA_TEMPERATURE=0.7
OLLAMA_MAX_TOKENS=2048
OLLAMA_TIMEOUT=30
OLLAMA_KEEP_ALIVE=24h

# Vector Database Configuration
CHROMA_HOST=localhost
CHROMA_PORT=8001
CHROMA_PERSIST_DIRECTORY=./data/chroma
CHROMA_COLLECTION_NAME=legal_documents

# Embedding Configuration
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_CACHE_SIZE=1000

# RAG Configuration
MAX_CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_RETRIEVAL_RESULTS=5
SIMILARITY_THRESHOLD=0.7
RERANK_TOP_K=3

# Document Processing
UPLOAD_MAX_SIZE=50MB
SUPPORTED_FORMATS=pdf,docx,txt
PROCESSING_BATCH_SIZE=10

# =============================================================================
# Voice Processing Configuration
# =============================================================================

# Whisper Speech-to-Text
WHISPER_MODEL_SIZE=base
# Options: tiny, base, small, medium, large, large-v2, large-v3
WHISPER_LANGUAGE=
# Leave empty for auto-detection, or specify: en, es, fr, de, etc.
WHISPER_DEVICE=auto
# Options: auto, cpu, cuda, mps

# Audio Processing
AUDIO_SAMPLE_RATE=16000
AUDIO_CHUNK_DURATION_MS=1000
AUDIO_BUFFER_SIZE=4096
VAD_AGGRESSIVENESS=2
# Voice Activity Detection aggressiveness: 0-3 (higher = more aggressive)
NOISE_REDUCTION_ENABLED=true

# =============================================================================
# Text-to-Speech Configuration
# =============================================================================
TTS_DEFAULT_ENGINE=coqui
# Options: coqui, elevenlabs, azure, system
TTS_DEFAULT_VOICE=
# Leave empty for default voice of selected engine
TTS_CACHE_ENABLED=true
TTS_CACHE_SIZE=100
TTS_RATE=1.0
# Speech rate: 0.5-2.0
TTS_VOLUME=1.0
# Volume level: 0.0-1.0

# =============================================================================
# External API Keys (Optional)
# =============================================================================

# ElevenLabs API (for premium TTS)
ELEVENLABS_API_KEY=
# Get your key at: https://elevenlabs.io/

# Azure Cognitive Services (for enterprise TTS)
AZURE_SPEECH_KEY=
AZURE_SPEECH_REGION=eastus
# Available regions: eastus, westus2, centralus, etc.

# =============================================================================
# Conversation Management
# =============================================================================
CONVERSATION_SESSION_TTL=86400
# Session timeout in seconds (24 hours)
MAX_CONVERSATION_TURNS=1000
# Maximum turns per conversation
MAX_SESSION_DURATION=3600
# Maximum session duration in seconds (1 hour)

# =============================================================================
# Intent Classification
# =============================================================================
INTENT_CONFIDENCE_THRESHOLD=0.5
# Minimum confidence for intent classification
INTENT_USE_BERT=true
# Use BERT model for intent classification (requires more resources)
INTENT_MODEL_NAME=microsoft/DialoGPT-medium
# BERT model for intent classification

# =============================================================================
# WebSocket Configuration
# =============================================================================
WS_MAX_CONNECTIONS=100
# Maximum concurrent WebSocket connections
WS_PING_INTERVAL=30
# WebSocket ping interval in seconds
WS_PING_TIMEOUT=10
# WebSocket ping timeout in seconds

# =============================================================================
# Voice Service Paths
# =============================================================================
VOICE_MODEL_PATH=/app/models
# Directory for storing voice models
VOICE_CACHE_PATH=/app/cache
# Directory for audio cache
CONVERSATION_FLOWS_PATH=/app/ai/conversation/flows
# Directory for conversation flow YAML files

# =============================================================================
# Development & Debugging
# =============================================================================
VOICE_DEBUG_ENABLED=false
# Enable voice processing debug logs
SAVE_AUDIO_DEBUG=false
# Save audio chunks for debugging
CONVERSATION_DEBUG=false
# Enable conversation flow debugging

# Performance Monitoring
ENABLE_METRICS=true
# Enable performance metrics collection
METRICS_EXPORT_INTERVAL=60
# Metrics export interval in seconds

# =============================================================================
# Phase 3: Integration Layer Configuration
# =============================================================================

# =============================================================================
# Zoho CRM Integration
# =============================================================================
ZOHO_CLIENT_ID=
# Zoho CRM OAuth Client ID (get from Zoho Developer Console)
ZOHO_CLIENT_SECRET=
# Zoho CRM OAuth Client Secret
ZOHO_REDIRECT_URI=http://localhost:8000/api/v1/crm/auth/callback
# OAuth redirect URI (must match Zoho app configuration)
ZOHO_REFRESH_TOKEN=
# Refresh token (obtained after initial OAuth flow)
ZOHO_API_DOMAIN=https://www.zohoapis.com
# Zoho API domain (change for different data centers)
ZOHO_ACCOUNTS_URL=https://accounts.zoho.com
# Zoho accounts URL for authentication
ZOHO_SANDBOX_MODE=true
# Use sandbox mode for testing

# CRM Sync Configuration
CRM_SYNC_INTERVAL=300
# Sync interval in seconds (5 minutes)
CRM_BATCH_SIZE=100
# Number of records to process in each batch
CRM_RETRY_ATTEMPTS=3
# Number of retry attempts for failed sync operations
CRM_TIMEOUT=30
# API request timeout in seconds

# =============================================================================
# Telephony & SIP Configuration
# =============================================================================
SIP_SERVER=
# SIP server hostname or IP address
SIP_USERNAME=
# SIP account username
SIP_PASSWORD=
# SIP account password
SIP_DOMAIN=
# SIP domain (often same as server)
SIP_PORT=5060
# SIP server port (usually 5060)
SIP_TRANSPORT=UDP
# SIP transport protocol (UDP, TCP, TLS)

# Call Management
MAX_CONCURRENT_CALLS=50
# Maximum number of concurrent calls
CALL_TIMEOUT=30
# Call timeout in seconds
CALL_RETRY_ATTEMPTS=3
# Number of call retry attempts
CALL_RETRY_DELAY=5
# Delay between call retries in seconds
ENABLE_CALL_RECORDING=false
# Enable call recording
CALL_RECORDING_PATH=/app/recordings
# Directory path for call recordings

# =============================================================================
# Campaign Management
# =============================================================================
DIALER_MODE=progressive
# Dialer mode: progressive, predictive, preview, manual
CAMPAIGN_MAX_ATTEMPTS=3
# Maximum call attempts per contact
CAMPAIGN_RETRY_DELAY=3600
# Delay between retry attempts in seconds (1 hour)
CALL_ABANDON_RATE_LIMIT=0.03
# Maximum abandon rate (3%)

# DNC (Do Not Call) Configuration
DNC_ENABLED=true
# Enable DNC checking
DNC_CHECK_TIMEOUT=5
# DNC lookup timeout in seconds

# =============================================================================
# Appointment Scheduling
# =============================================================================
SCHEDULING_TIMEZONE=America/New_York
# Default timezone for scheduling
BUSINESS_HOURS_START=09:00
# Business hours start time (HH:MM)
BUSINESS_HOURS_END=17:00
# Business hours end time (HH:MM)
BUSINESS_DAYS=monday,tuesday,wednesday,thursday,friday
# Business days of the week
APPOINTMENT_BUFFER_MINUTES=15
# Buffer time between appointments in minutes

# =============================================================================
# Lead Management
# =============================================================================
LEAD_SCORING_ENABLED=true
# Enable automatic lead scoring
HIGH_PRIORITY_SCORE_THRESHOLD=80
# Score threshold for high priority leads
AUTO_ASSIGN_LEADS=true
# Automatically assign leads to attorneys
LEAD_FOLLOW_UP_HOURS=24
# Default follow-up time in hours

# =============================================================================
# External Telephony Services (Optional)
# =============================================================================
# Twilio Configuration (fallback/backup)
TWILIO_ACCOUNT_SID=
# Twilio Account SID
TWILIO_AUTH_TOKEN=
# Twilio Auth Token
TWILIO_PHONE_NUMBER=
# Twilio phone number for outbound calls

# =============================================================================
# Background Task Processing
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/1
# Celery broker URL (Redis database 1)
CELERY_RESULT_BACKEND=redis://localhost:6379/2
# Celery result backend URL (Redis database 2)
CELERY_TASK_SERIALIZER=json
# Task serialization format
CELERY_RESULT_SERIALIZER=json
# Result serialization format
CELERY_TIMEZONE=UTC
# Celery timezone

# =============================================================================
# Webhook Configuration
# =============================================================================
WEBHOOK_SECRET_KEY=your-webhook-secret-key-here
# Secret key for webhook verification
WEBHOOK_TIMEOUT=10
# Webhook request timeout in seconds
WEBHOOK_RETRY_ATTEMPTS=3
# Number of webhook retry attempts

# =============================================================================
# Phase 3 Development & Testing
# =============================================================================
PHASE3_DEBUG_ENABLED=false
# Enable Phase 3 specific debugging
MOCK_CRM_RESPONSES=false
# Use mock CRM responses for testing
MOCK_SIP_GATEWAY=false
# Use mock SIP gateway for development
CAMPAIGN_TEST_MODE=false
# Run campaigns in test mode (no actual calls)